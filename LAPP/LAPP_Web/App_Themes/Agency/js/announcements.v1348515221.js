Fresh.Announcements=Class.extend({_disabled:!1,_announcements:[],_element:null,_options:{},init:function(e){this._announcements=$(".announcement-template"),this._options=e;if($("#facebox").length||this._announcements.length===0){this._disabled=!0;return}this.show()},show:function(){if(this._disabled)return;var e=$(this._renderAnnouncements()),t=e.find(".announcement"),n=!0,r=!0;t.length===1&&(n=!1,r=!1),$.facebox(e),$("#announcements .announcements").codaSlider({autoSlide:!1,slideEaseFunction:"swing",slideEaseDuration:500,autoHeightEaseDuration:500,autoHeightEaseFunction:"swing",dynamicArrows:r,dynamicArrowLeftText:"",dynamicArrowRightText:"",dynamicTabs:n,dynamicTabsPosition:"bottom",firstPanelToLoad:1}),$("#announcements").on("click",".close-popup",function(e){return $(document).trigger("close.facebox"),!1}),$.post("/ajax/announcements/markUnseenAsViewed")},_renderAnnouncements:function(){var e={announcements:$.makeArray(this._announcements.map(function(){return{announcement:(new Fresh.Template($(this))).render()}})),numberOfAnnouncements:this._numberToWord(this._announcements.length)};return(new Fresh.Template("announcements-container")).render(e)},_numberToWord:function(e){return{2:"Two",3:"Three",4:"Four",5:"Five",6:"Six",7:"Seven"}[e]}}),window.JST["announcements-container"]=function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="announcements">'),r.b("\n"+n),r.b("\n"+n),r.b('	<div class="announcements-header">'),r.b("\n"+n),r.b('		<h3 class="announcements-title">'),r.b("\n"+n),r.s(r.f("numberOfAnnouncements",e,t,1),e,t,0,126,204,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("				"),n.b(n.v(n.f("numberOfAnnouncements",e,t,0))),n.b(" announcements since we last saw you&hellip;"),n.b("\n")}),e.pop()),r.s(r.f("numberOfAnnouncements",e,t,1),e,t,1,0,0,"")||(r.b("				Since we last saw you&hellip;"),r.b("\n")),r.b("		</h3>"),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.b("	"),r.b("\n"+n),r.b('	<div class="announcements">'),r.b("\n"+n),r.s(r.f("announcements",e,t,1),e,t,0,392,472,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('			<div class="announcement panel span-26">'),r.b("\n"+n),r.b("				"),r.b(r.t(r.f("announcement",e,t,0))),r.b("\n"+n),r.b("			</div>"),r.b("\n")}),e.pop()),r.b("	</div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()};